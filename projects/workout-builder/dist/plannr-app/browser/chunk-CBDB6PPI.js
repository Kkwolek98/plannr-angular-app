import{D as a,E as u,H as m,N as v,O as l,P as d,R as c,S as y,d as b,n as g}from"./chunk-IYJWUTWN.js";function h(s,t){!t?.injector&&u(h);let i=t?.injector??a(m),r=new b(1),n=y(()=>{let o;try{o=s()}catch(e){d(()=>r.error(e));return}d(()=>r.next(o))},{injector:i,manualCleanup:!0});return i.get(c).onDestroy(()=>{n.destroy(),r.complete()}),r.asObservable()}function w(s,t){let i=!t?.manualCleanup;i&&!t?.injector&&u(w);let r=i?t?.injector?.get(c)??a(c):null,n;t?.requireSync?n=l({kind:0}):n=l({kind:1,value:t?.initialValue});let o=s.subscribe({next:e=>n.set({kind:1,value:e}),error:e=>{if(t?.rejectErrors)throw e;n.set({kind:2,error:e})}});return r?.onDestroy(o.unsubscribe.bind(o)),v(()=>{let e=n();switch(e.kind){case 1:return e.value;case 2:throw e.error;case 0:throw new g(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}export{h as a,w as b};
