import{a as te,b as f,c as b}from"./chunk-IPIT5LE2.js";import{b as ee}from"./chunk-CBDB6PPI.js";import"./chunk-E2KADIVF.js";import{$ as S,$a as C,Aa as W,D as a,J as u,N as O,O as U,Oa as q,Q as V,Sa as l,Ua as z,V as y,Va as H,W as w,Wa as K,Ya as Q,Za as X,_ as k,_a as _,aa as D,ab as Y,ba as x,bb as Z,ca as c,da as s,ea as m,g as j,ga as $,ha as h,ia as B,j as I,ja as M,ka as T,l as R,o as L,p as A,q as E,qa as g,r,ra as G,sa as J,v as N,w as P,ya as p}from"./chunk-IYJWUTWN.js";var oe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-top-nav-dropdown-menu"]],standalone:!0,features:[p],decls:3,vars:0,template:function(o,i){o&1&&(c(0,"p"),g(1,"top-nav-dropdown-menu works!"),s(),g(2,`,
`))},dependencies:[l],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var he=(t,e)=>({"bg-emerald-600 hover:bg-emerald-500":t,"bg-slate-500 hover:bg-slate-400":e}),ne=(()=>{let e=class e{constructor(){this.link=A.required(),this.router=a(C),this.route=a(X),this.cdref=a(V),this.currentLink=ee(this.router.events.pipe(I(n=>n instanceof Q),j(n=>n.url||""),R(this.router.url))),this.isActive=O(()=>{let n=this.link().url.split("/"),o=this.currentLink().split("/");return n[1]===o[1]})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-top-nav-link"]],inputs:{link:[E.SignalBased,"link"]},standalone:!0,features:[p],decls:2,vars:6,consts:[[1,"inline-block","px-4","py-2","text-white","hover:no-underline","rounded-sm",3,"routerLink","ngClass"]],template:function(o,i){o&1&&(c(0,"a",0),g(1),s()),o&2&&(w("routerLink",i.link().url)("ngClass",W(3,he,i.isActive(),!i.isActive())),u(),G(i.link().display))},dependencies:[l,q,Y],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var Ce=["*"],ie=(()=>{let e=class e{constructor(){this.clicked=new L}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-dropdown-item"]],outputs:{clicked:"clicked"},standalone:!0,features:[p],ngContentSelectors:Ce,decls:2,vars:0,consts:[[1,"hover:bg-slate-100","focus:bg-slate-200","w-full","text-left","px-1.5","py-1","rounded-lg",3,"click"]],template:function(o,i){o&1&&(M(),c(0,"button",0),h("click",function(){return i.clicked.emit()}),T(1),s())},dependencies:[l],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function ye(t,e){if(t&1){let d=$();c(0,"app-dropdown-item",0),h("clicked",function(){let i=N(d).$implicit;return P(i.action())}),g(1),s()}if(t&2){let d=e.$implicit;u(),J(" ",d.label," ")}}var re=(()=>{let e=class e{constructor(){this.authService=a(b),this.items=[{label:"Logout",action:()=>this.authService.logout()}]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-top-nav-user-profile-dropdown-menu"]],standalone:!0,features:[p],decls:2,vars:0,consts:[[3,"clicked"]],template:function(o,i){o&1&&D(0,ye,2,1,"app-dropdown-item",null,S),o&2&&x(i.items)},dependencies:[l,ie],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function we(t,e){t&1&&(c(0,"div",4),m(1,"app-top-nav-user-profile-dropdown-menu"),s())}var ae=(()=>{let e=class e{constructor(){this.isMenuVisible=U(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-top-nav-user-profile"]],standalone:!0,features:[p],decls:4,vars:1,consts:[[1,"relative"],[1,"text-2xl","p-2",3,"click"],[1,"fa-regular","fa-user"],["class","bg-white absolute right-0 shadow-lg rounded-md w-32 p-2"],[1,"bg-white","absolute","right-0","shadow-lg","rounded-md","w-32","p-2"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"button",1),h("click",function(){return i.isMenuVisible.set(!i.isMenuVisible())}),m(2,"i",2),s(),y(3,we,2,0,"div",3),s()),o&2&&(u(3),k(3,i.isMenuVisible()?3:-1))},dependencies:[l,re],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function ke(t,e){t&1&&m(0,"app-top-nav-dropdown-menu")}function Se(t,e){if(t&1&&m(0,"app-top-nav-link",2),t&2){let d=B().$implicit;w("link",d)}}function De(t,e){if(t&1&&y(0,ke,1,0,"app-top-nav-dropdown-menu")(1,Se,1,1),t&2){let d=e.$implicit;k(0,d.children?0:1)}}var pe=(()=>{let e=class e{constructor(){this.links=[{url:"/exercises",display:"Exercises"},{url:"/workouts",display:"Workouts"}]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-top-nav"]],standalone:!0,features:[p],decls:6,vars:0,consts:[[1,"w-screen","h-16","px-4","bg-slate-300","shadow-md","flex","justify-between","items-center"],[1,"flex","gap-4"],[3,"link"]],template:function(o,i){o&1&&(c(0,"header",0)(1,"div",1),D(2,De,2,1,null,null,S),s(),c(4,"div"),m(5,"app-top-nav-user-profile"),s()()),o&2&&(u(2),x(i.links))},dependencies:[ne,oe,l,ae],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var xe=["*"],se=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-layout"]],standalone:!0,features:[p],ngContentSelectors:xe,decls:2,vars:0,template:function(o,i){o&1&&(M(),m(0,"app-top-nav"),T(1))},dependencies:[pe,l],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var ce=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-logged-in-layout"]],standalone:!0,features:[p],decls:2,vars:0,template:function(o,i){o&1&&(c(0,"app-layout"),m(1,"router-outlet"),s())},dependencies:[l,_,se],encapsulation:2,changeDetection:0});let t=e;return t})();var le=()=>{let t=a(f),e=a(C);return t.getToken()?!0:(e.navigate(["/login"]),!1)};var F=()=>{let t=a(f),e=a(C);return t.getToken()?(e.navigate(["/exercises"]),!1):!0};var me=[{path:"login",canActivate:[F],loadComponent:()=>import("./chunk-IUCJJRQV.js").then(t=>t.LoginComponent)},{path:"register",canActivate:[F],loadComponent:()=>import("./chunk-RTWQXV26.js").then(t=>t.RegisterComponent)},{component:ce,path:"",canActivate:[le],children:[{path:"exercises",loadChildren:()=>import("./chunk-PWYNGYJK.js").then(t=>t.exerciseRoutes)},{path:"workouts",loadChildren:()=>import("./chunk-6I2UYUR3.js").then(t=>t.workoutsRoutes)}]}];var de=(t,e)=>e(t);var ue=(t,e)=>{let n=a(f).getToken();if(!n||Me(t))return e(t);let o=t.clone({headers:t.headers.set("Authorization",`Bearer ${n}`)});return e(o)},Me=t=>{let e=["auth"],n=new URL(t.url).pathname.split("/")[1];return e.includes(n)};var fe={providers:[Z(me),z(H([ue,de]))]};var ve=(()=>{let e=class e{constructor(){this.jwtService=a(f),this.inactivityService=a(te),this.authenticationService=a(b)}ngOnInit(){let n=this.jwtService.getToken();n&&(this.inactivityService.startListening(n),this.authenticationService.waitForLogout())}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=r({type:e,selectors:[["app-root"]],standalone:!0,features:[p],decls:1,vars:0,template:function(o,i){o&1&&m(0,"router-outlet")},dependencies:[_]});let t=e;return t})();K(ve,fe).catch(t=>console.error(t));
