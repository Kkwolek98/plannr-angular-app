<form [formGroup]="form" class="flex flex-col gap-3 max-w-96">
  <lib-select
    [data]="exercises()!"
    label="Exercise"
    valueKey="id"
    labelKey="name"
    formControlName="details"></lib-select>
  <div class="flex">
    <lib-toggle
      class="w-1/3"
      [formControl]="isExactRepsControl"
      label="Reps"
      labelFalse="Range"
      labelTrue="Exact"></lib-toggle>
    <div class="flex gap-2 items-end">
      @if (isExactRepsControl.value) {
        <lib-input class="w-20" label="number" formControlName="repExact" type="number"></lib-input>
      } @else {
        <lib-input class="w-20" label="min" formControlName="repMin" type="number"></lib-input>
        <lib-input class="w-20" label="max" formControlName="repMax" type="number"></lib-input>
      }
    </div>
  </div>
  <div class="flex items-end">
    <lib-toggle class="w-1/3" [formControl]="hasLoadControl" label="Enable weight"></lib-toggle>
    <div class="flex items-end">
      <lib-input class="w-20" formControlName="repWeight" type="number"></lib-input>
      <lib-select [data]="repTypes" formControlName="repType" valueKey="key" labelKey="value"></lib-select>
    </div>
  </div>
  <div class="flex items-end">
    <lib-toggle class="w-1/3" [formControl]="hasRestControl" label="Enable rest"></lib-toggle>
    <lib-input class="w-20" formControlName="rest" type="number"></lib-input>
    <div class="mb-4">&nbsp;seconds</div>
  </div>

  <div class="flex justify-end gap-2 mt-2">
    <lib-button (click)="save()">Save</lib-button>
    <lib-button (click)="closed.emit()" variant="outlined" color="secondary">Cancel</lib-button>
  </div>
</form>
