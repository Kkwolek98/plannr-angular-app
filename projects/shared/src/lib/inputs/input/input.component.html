<div
  class="form-group flex"
  [ngClass]="{
    'flex-row align-middle': labelPosition() === 'left',
    'flex-col': labelPosition() === 'top'
  }">
  @if (label()) {
    <label
      [htmlFor]="inputId"
      [ngClass]="{
        'me-2 flex items-center': labelPosition() === 'left',
        'mb-1': labelPosition() === 'top'
      }"
      >{{ label() }}
      @if (isRequired && displayRequiredAsterisk()) {
        <span class="text-red-500 -ms-0.5">*</span>
      }
    </label>
  }

  @if (type() !== "textarea") {
    <input
      [id]="inputId"
      [(ngModel)]="value"
      (ngModelChange)="onModelChange()"
      [name]="name()"
      [type]="type()"
      [inputMode]="inputMode()"
      [autocomplete]="autocomplete() ? 'on' : 'off'"
      [disabled]="isDisabled"
      (blur)="onTouched()"
      [ngClass]="{
        'border border-slate-500 outline-emerald-700 rounded-sm p-1 h-8': !isDisabled,
        'bg-transparent border-none cursor-text': isDisabled && renderDisabledAsPlaintext()
      }" />
  } @else {
    <textarea
      [id]="inputId"
      [(ngModel)]="value"
      (ngModelChange)="onModelChange()"
      [name]="name()"
      [inputMode]="inputMode()"
      [autocomplete]="autocomplete() ? 'on' : 'off'"
      [disabled]="isDisabled"
      (blur)="onTouched()"
      [ngClass]="{
        'border border-slate-500 outline-emerald-700 rounded-sm p-1': !isDisabled,
        'bg-transparent border-none cursor-text': isDisabled && renderDisabledAsPlaintext()
      }">
    </textarea>
  }
  @if (ngControl.control) {
    <lib-validation-error [formControl]="formControl"></lib-validation-error>
  }
</div>
